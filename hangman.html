<!DOCTYPE html>
<html lang="en-us">
<head>
	<meta charset="utf-8">
	<title>Hangman</title>
</head>
<body>

	<div id="stats"></div>

	<div id="word">
		<h2>Press any key to play!</h2>
	</div>

	<div id="letters"></div>

	<script type="text/javascript">
/* VARIABLE DEFINITIONS
	possibleWords
		Array of words (strings) the game will choose at the beginning of the game.
	playerLetters
		Array of letters the User has chosen so far this game.
		Starts as an empty array
		Has new letters entered with each keypress verified as a letter
		Emptied after each game ends
	curWordLetters
		An array.
		Starts as an empty array
		Each letter of the chosen word is its own index.
		Emptied after each game ends
	wordStatus
		An array of letters indicating the game's current status.
		Starts empty.
		When the word is chosen, each index is an underscore
		The number of indexes is determined by the length of the chosen word
		When a correct letter is guessed, the appropriate underscore is replaced with the letter
		wordStatus is what will be displayed to the user
	wins
		The number of total wins. This begins at 0 and increases when a word is fully guessed.
	losses
		The number of total losses. This begins at 0 and decreases when guesses run out.
	guesses
		The number of remaining guesses. This begins at 8 and decreases when an incorrect letter (which hasn't been guessed before) is selected.
	newGame
		Boolean value. When true and a key is pressed, the game will choose a new word and set it to false. When a win or loss is recorded, it will reset to true.
	
	
	
*/


		
		// Create a list of words to use
		var possibleWords = ["MARIO" , "NINTENDO" , "SWITCH" , "LUIGI" , "BOWSER" , "PRINCESS" , "SUNSHINE" , "COINS" , "GAMEBOY" , "PLUMBER" , "MUSTACHE" , "PAULINE" , "CONSOLE" , "MIYAMOTO" , "IWATA" , "REGGIE" , "PEACH"];
		// Initialize the player's guessed letters
		var playerLetters = [], curWordLetters = [], wordStatus = [];
		// Initialize other variables
		var wins = 0, losses = 0, guesses = 8; newGame = true, duplicate = false, currentWord = "wii", userText = "";
		var htmlStats = "", htmlWord = "", htmlLetters =""; 
		// Listen for player input
		document.onkeyup = function(event) {
			alert("A key was pressed!");
			userText = event.key;
			// If this is a new game, pick a word from the array to use
			if(newGame) {
				currentWord = possibleWords[Math.floor(Math.random() * possibleWords.length)];
				// Don't pick a new currentWord until the current game is finished

				// Show the actual word to begin; this will eventually be replaced with blanks
				htmlWord = "<p>" + currentWord + "</p>";
				document.querySelector("#word").innerHTML = htmlWord;

				newGame = false;
			}
			// Draw the number of blank spots

			
			// Draw letters already used
			htmlLetters = "<p>" + playerLetters[0] + "</p>";
			document.querySelector("#letters").innerHTML = htmlLetters;
			// Determine if input is a letter
			if (event.keyCode >= 65 && event.keyCode <= 90) {
				// force the letter to be Upper Case
				userText = userText.toUpperCase();

				// Determine if input has already been used
					for (var i = 0; i > playerLetters.length; i++) {
						if(event.keyCode == playerLetters[i]) {
							duplicate = true;
						}
					}
					if(duplicate == false) {
						playerLetters.push(userText);
						// If letter is on the board, update blank spots

						// If # of blanks = 0, win++ & guesses = 8 & newGame = 1 & empty playerLetters
						curWordLetters = [...currentWord]; // curWordLetters is now an array where each letter is its own index
						console.log("curWordLetters: " + curWordLetters);
						console.log("duplicate: " + duplicate);
						for (var i = 0; i < curWordLetters.length; i++) {
							wordStatus.push("_");
							console.log("wordStatus: " + wordStatus);
							console.log("i: " + i);
						}


						if(currentWord.length == 0) { // Change to # of blanks when the var is setup
							wins++;
							guesses = 8;
							newGame = 1;
							playerLetters.splice(0, playerLetters.length +1);
						}

						// Else if # of guesses = 0, lose++ & guesses = 8 & newGame = 1 & empty playerLetters
						else if (guesses == 0) {
							losses++;
							guesses = 8;
							newGame = 1;
							playerLetters.splice(0, playerLetters.length +1);
						}
						// Else, # of guesses--
						else {
							guesses--;
							// add the guess to playerLetters
						} // 

						// Draw # of wins, # of losses, # of guesses remaining
						htmlWord = "";
						for (var i = 0; i < wordStatus.length; i++) {
							htmlWord = htmlWord + " " + wordStatus[i];
						}
						document.querySelector("#word").innerHTML = "<p>" + htmlWord + "</p>";
					} // if(duplicate == false)
			}
			// else { alert("You didn't press a letter!");}

		} // <-- listen for inputs

	</script>




</body>
</html>